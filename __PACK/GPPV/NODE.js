GPPV.validate=METHOD(function(e){var o,n;return{run:function(e,i){var t,r,c=e.productId,a=e.purchaseToken;void 0!==i&&(CHECK_IS_DATA(i)!==!0?r=i:(t=i.error,r=i.success)),NEXT([function(e){void 0===o||Date.now()-n.getTime()>18e5?UOAUTH.GET_JWT_TOKEN({url:"https://www.googleapis.com/oauth2/v4/token",scopes:["https://www.googleapis.com/auth/androidpublisher"],clientEmail:NODE_CONFIG.GPPV.clientEmail,privateKey:NODE_CONFIG.GPPV.privateKey},{error:t,success:function(i){void 0===i?void 0!==t?t():SHOW_ERROR("[GPPV] [UOAUTH.GET_JWT_TOKEN] result is undefined."):(o=i.access_token,n=new Date,e())}}):e()},function(){return function(){GET({isSecure:!0,host:"www.googleapis.com",uri:"androidpublisher/v2/applications/"+encodeURIComponent(NODE_CONFIG.GPPV.appPackageName)+"/purchases/products/"+encodeURIComponent(c)+"/tokens/"+encodeURIComponent(a)+"?access_token="+encodeURIComponent(o)},function(e){var o=PARSE_STR(e);void 0===o?void 0!==t?t():SHOW_ERROR("[GPPV] Error! Data:",e):void 0!==r&&r(void 0!==o.error?!1:void 0!==o.purchaseTimeMillis?!0:!1)})}}])}}});